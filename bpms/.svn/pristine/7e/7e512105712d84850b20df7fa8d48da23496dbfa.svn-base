<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.or.ddit.projects.history.dao.AdminHistoryDAO">

	<resultMap type="kr.or.ddit.projects.history.vo.HistoryVO" id="historyMap" autoMapping="true">
		<id property="historyId" column="HISTORY_ID"/>
		<association property="memberVO" javaType="kr.or.ddit.projects.member.vo.MemberVO"  autoMapping="true"/>
	</resultMap>
	<select id="selectHistoryList" parameterType="kr.or.ddit.vo.SortVO" resultMap="historyMap">
		SELECT HISTORY_ID
		     , PRO_TITLE
		     , HISTORY_TITLE
		     , HISTORY_CONTENT
		     , HISTORY_URI
		     , HISTORY_DATE
		     , PRO_ID
		     , HISTORY_WRITER
		     , MEM_IMG
		     , MEM_ID
		  FROM HISTORY H INNER JOIN MEMBER M ON (H.HISTORY_WRITER = M.MEM_NAME)
		 WHERE HISTORY_DATE BETWEEN TO_DATE(#{startDate}, 'YYYY-MM-DD')
		 					    AND TO_DATE(#{endDate}, 'YYYY-MM-DD') + 0.99999 
		ORDER BY HISTORY_DATE DESC
	</select>
	
</mapper>