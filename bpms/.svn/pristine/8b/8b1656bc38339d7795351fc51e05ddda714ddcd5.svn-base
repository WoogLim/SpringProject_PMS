<%--
* [[개정이력(Modification Information)]]
* 수정일                 수정자      	수정내용
* ----------  -------- -----------------
* 2021. 2. 24.	임건		최초작성
* Copyright (c) 2021 by DDIT All right reserved
--%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<div class="commithistory-container">
<div class="container-header">
    <h2 class="container-title">
        모든 커밋 내역
    </h2>

    <button class="commit-chart" type="button">
        <i class="far fa-chart-bar chart-bar"></i>
        커밋 통계
    </button>
</div>

 <div class="pipelinelist-box">
    <div class="pipe-checkfilter no-drag">
        <div class="pipefilter-title">
           	 커밋내역 선택 필터
        </div>

        <div class="selected-pipelinecontainer">
            <button class="pipelineuser-select" type="button" data-toggle="dropdown">
                <i class="fas fa-bezier-curve"></i>
                <%-- 이 label에는 밑에 라디오 버튼에서 선택한 label.text()값이 나타남 --%>
                <label for="" class="select-pipeline">모든 저자</label>
                <i class="fas fa-sort-down arrow-down"></i>
            </button>
            <ul class="pipeline-list dropdown-menu" aria-labelledby="dropdownMenuButton">
                <li>
                    <input type="radio" name="userpipeline" class="pipeline-radio">
                    <label for="" class="pipeline-label">모든 저자</label>
                </li>
                <!-- 여기서부터 구성원 목록 input의 아이디, label의 for는 갯수에 따라 스크립트로 정해짐-->
                	<%-- 밑에 li태그 하나가 구성원 한명 --%>
                    <li>
                        <%-- id는 스크립트로 정함 --%>
                        <input type="radio" name="userpipeline" class="pipeline-radio" onchange="test(this);">
                        <%-- for는 위 스크립트로 지정된 id로 되어있음 밑에 label에는 사용자 이름만 넣어줘영 --%>
                        <label for="" class="pipeline-label">임건</label>
                    </li>
                    <li>
                        <input type="radio" name="userpipeline" class="pipeline-radio" onchange="test(this);">
                        <label for="" class="pipeline-label">이선엽</label>
                    </li>
                    <li>
                        <input type="radio" name="userpipeline" class="pipeline-radio" onchange="test(this);">
                        <label for="" class="pipeline-label">신광진</label>
                    </li>
                </ul>
            </div>
	
			<%-- 커밋내역 기간 선택 --%>
            <div class="selected-datetime">
                <span class="start-alert">
                    	시작일
                </span>
                <input type="date" class="start-datetime">
                <span class="end-alert">
                    	종료일
                </span>
                <input type="date" class="end-datetime">
            </div>
        </div>

		
        <div class="commithistory-list">
            <ul class="commithistory-title">
                <li>개정번호/날짜</li>
                <li>내용/작성자</li>
            </ul>
	
			<%-- 밑에 ul태그 하나가 커밋내역 한세트 --%>
            <ul class="commithistory-item">
                <li class="commitmain-content">
                	<%-- [1] revision 이름 --%>
                    <div class="revision-box">
                        152832
                    </div>
                    <div class="content-box">
                        <span class="content-icon">
                            <i class="fas fa-signature"></i>
                        </span>
                        <%-- [2] 밑에 span 태그안에 커밋 내용 --%>
                        <span>
                            [update]
			                            회원이미지 테스트 (테스트 프로필 이미지 업로드)
			                            푸시메시지 조회 및 필터링, 삭제기능 구현
                        </span>
                        <span class="commit-author">
                        	<%-- [3] author 프로필 이미지 없으면 default이미지로 --%>
                            <div class="avatar-sm">
                                <img src="${pageContext.request.contextPath }/assets/img/flaticon/poyo.png" alt="..." class="avatar-img rounded-circle">
                            </div>
                            <%-- [4] author 이름 --%>
                            <span class="author-name">
                                	신광진
                            </span>
                        </span>
                    </div>
                </li>
                <li class="commitsub-content">
                	<%-- [5] 커밋 날짜 --%>
                    <div class="commit-date">
                        2021-02-24 15:34 PM
                    </div>
                </li>
            </ul>
            
        </div>
    </div>
</div>

<script type="text/javascript">
$(function(){
    
    let slectpipeline = $('.pipeline-list li');
    let count = 0;

    slectpipeline.each(function(){
        count++;

        $(this).children('.pipeline-radio').attr('id', 'pipeuser'+count);
        $(this).children('.pipeline-label').attr('for', 'pipeuser'+count);
    })

    console.log(slectpipeline)

    })

    function test(input){
        let userselect = $(input).siblings('.pipeline-label').text();
        $(input).parent().parent().siblings('.pipelineuser-select').children('.select-pipeline').text(userselect);
    }
</script>

</body>
</html>