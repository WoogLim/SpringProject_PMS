package kr.or.ddit.projects.history.controller;

import java.util.Date;
import java.util.List;

import org.apache.commons.lang3.StringUtils;
import org.springframework.http.MediaType;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;

import kr.or.ddit.projects.base.controller.BaseController;
import kr.or.ddit.projects.history.vo.HistoryVO;
import kr.or.ddit.vo.CustomInfoVO;
import kr.or.ddit.vo.SortVO;

/**
 * @author 신광진
 * @since 2021. 2. 13.
 * @version 1.0
 * @see javax.servlet.http.HttpServlet
 * 
 *      <pre>
 * [[개정이력(Modification Information)]]
 * 수정일       	수정자           수정내용
 * ------------    --------    ----------------------
 * 2021. 2. 13.     신광진           최초작성
 * Copyright (c) 2021 by DDIT All right reserved
 *      </pre>
 */
@Controller
public class AdminHistoryController extends BaseController {

	@RequestMapping(value = "/admin/history/historyList.do", method = RequestMethod.GET)
	public String getHistoryList(SortVO sortVO, Model model) {
		List<HistoryVO> historyList = adminHistoryService.retrieveHistoryList(sortVO);
		model.addAttribute("historyList", historyList);
		model.addAttribute("sortVO", sortVO);

		List<CustomInfoVO> workCustomInfoList = customInfoService.retrieveWorkCustomInfoList();
		model.addAttribute("workCustomInfoList", workCustomInfoList);

		// URL Setting 해야함
		return null;
	}

	@RequestMapping(value = "/admin/history/historyList.do", method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_UTF8_VALUE)
	public String getHistoryListForAjax(SortVO sortVO, Model model) {
		getHistoryList(sortVO, model);
		return "jsonView";
	}

}
