package kr.or.ddit.projects.scm.dao;

import java.text.ParseException;
import java.util.List;
import java.util.Map;
import java.util.Set;

import org.springframework.stereotype.Repository;
import org.tmatesoft.svn.core.SVNException;
import org.tmatesoft.svn.core.SVNLogEntry;
import org.tmatesoft.svn.core.auth.ISVNAuthenticationManager;
import org.tmatesoft.svn.core.internal.io.dav.DAVRepository;

import kr.or.ddit.projects.scm.vo.ScmVO;
import kr.or.ddit.vo.PagingVO;

/**
 * @author 전수빈
 * @since 2021. 3. 3.
 * @version 1.0
 * @see javax.servlet.http.HttpServlet
 * <pre>
 * [[개정이력(Modification Information)]]
 * 수정일                          수정자               수정내용
 * --------     --------    ----------------------
 * 2021. 3. 3.      작성자명       최초작성
 * Copyright (c) 2021 by DDIT All right reserved
 * </pre>
 */
public interface SvnDAO {
	/**
	 * 전수빈
	 * 작업 내용 : 로그 내역 조회
	 * 작성 날짜 : 2021. 3. 3.
	 * 메서드명 : selectSvnLogList
	 * @param pagingVO : 검색 필터 명령어 및 로그 목록을 저장하기 위한 객체
	 * @return : 회원이 로그인한 Svn 서버의 commit log 목록 조회 
	 * @throws SVNException 
	 * @throws ParseException 
	 */
	public List<ScmVO>selectSvnLogList(PagingVO<ScmVO> pagingVO) throws SVNException, ParseException;
	
	/**
	 * 전수빈
	 * 작업 내용 : 현재 svn 프로젝트의 커밋 저자의 목록 리스트를 가져오기 위한 메서드
	 * 작성 날짜 : 2021. 3. 4.
	 * 메서드명 : selectProviderSet
	 * @param scmVO
	 * @return : 
	 * @throws SVNException 
	 */
	public Set<String> selectProviderSet(ScmVO scmVO) throws SVNException;
	
	/**
	 * 전수빈
	 * 작업 내용 : 로그 목록의 페이징 처리를 위한 페이지별 startRow의 revision number list를 가져오기 위한 메서드
	 * 작성 날짜 : 2021. 3. 4.
	 * 메서드명 : selectStartRowRevisionList
	 * @param pagingVO
	 * @return
	 * @throws SVNException : 
	 */
	public List<Long> selectStartRowRevisionList(PagingVO<ScmVO> pagingVO) throws SVNException;
	
	/**
	 * 전수빈
	 * 작업 내용 : 저자별 커밋수를 조회 하기위한 메서드
	 * 작성 날짜 : 2021. 3. 4.
	 * 메서드명 : selectByProviderToChartMap
	 * @param scmVO
	 * @return : 
	 * @throws SVNException 
	 */
	public Map<String, Integer> selectByProviderToChartMap(ScmVO scmVO) throws SVNException;

	/**
	 * 전수빈
	 * 작업 내용 : 년도의 월별 커밋수를 조회 하기위한 메서드
	 * 작성 날짜 : 2021. 3. 4.
	 * 메서드명 : selectByMonthToChartMap
	 * @param scmVO
	 * @return : 
	 * @throws SVNException 
	 */
	public Map<Integer, Integer> selectByMonthToChartMap(ScmVO scmVO) throws SVNException;
	
	/**
	 * 전수빈
	 * 작업 내용 : svn의 연동하기 위한 메서드
	 * 작성 날짜 : 2021. 3. 3.
	 * 메서드명 : getConnectDAVRepository
	 * @param scmVO : svn에 연동하기 위한 url, userId, password를 포함하고 있는 객체 
	 * @return : 회원이 연동한 svn의 repository 정보를 반환
	 * @throws SVNException 
	 */
	public DAVRepository getConnectDAVRepository(ScmVO scmVO) throws SVNException;
	
	/**
	 * 전수빈
	 * 작업 내용 : 페이징 처리를 위한 토탈 레코드 조회
	 * 작성 날짜 : 2021. 3. 4.
	 * 메서드명 : getTotalRecord
	 * @return : 
	 */
	public long getTotalRecord();
}
